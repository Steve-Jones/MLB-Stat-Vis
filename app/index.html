<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <!-- <link rel="shortcut icon" href="static/favicon.ico" type="image/x-icon"/> -->
  <!-- <link rel="stylesheet" href="static/bootstrap.min.css"> -->
  <link rel="stylesheet" href="static/radar-chart.css">
  <link rel="stylesheet" href="static/site.css">
  <link rel="stylesheet" href="static/loader.css">
  <link rel="stylesheet" href="css/materialize.min.css">
  <script src="js/materialize.min.js"></script>
  <script src="static/utilities.js"></script>
  <script src="static/angular.min.js"></script>
  <script src="static/angularApp.js"></script>
  <script src="static/d3.v3.min.js"></script>
  <script src="static/d3-queue.v3.min.js"></script>
  <script src="static/d3appHead.js"></script>
  <script src="static/d3app.js"></script>
  <script src="static/radar-chart.js"></script>


  <title> MLB Stat Vis </title>
</head>
<body id="body" ng-app="MainApp" ng-controller="MainController">

  <!-- data loading spinner -->
  <div class="loaderbox" id="loaderbox">
    <div class="loader"></div>
    <div class="center" id="loader_text">Loading Data...</div>
  </div>



  <div class="container">
    <!-- player panel -->
    <div id="top1" class="fixed-top">

      <!-- general header -->
      <div class="header" id="bannerheader" style="top: 0; width: 100%; height: 60px; background-color: #ffffff; z-index:4; visibility: visible;">
        <div class="title">
          <span style="font-size: 20px; font-weight: bold;">MLB Statistics Visualization</span><br>
        </div>
      </div>


      <div class="main row">
        <!-- Player View -->
        <div class="cardView">
          <div class="card bigCardHeight bigCardWidth">
            <div id="cardHeader">
              <div class="card-name">Player View</div>
              <div class="card-dropdown">

                <!-- Dropdown Trigger -->
                <a class='dropdown-trigger btn' href='#' data-target='dropdown1'>AVG</a>
                <!-- Dropdown Structure -->
                <ul id='dropdown1' class='dropdown-content'>
                  <li><a href="#!">one</a></li>
                  <li><a href="#!">two</a></li>
                  <li class="divider" tabindex="-1"></li>
                  <li><a href="#!">three</a></li>
                  <li><a href="#!"><i class="material-icons">view_module</i>four</a></li>
                  <li><a href="#!"><i class="material-icons">cloud</i>five</a></li>
                </ul>
              </div>
              <div class="card-right">
                <!-- Dropdown Trigger -->
                <a class='dropdown-trigger btn' href='#' data-target='dropdown-pos'>All Positions</a>
                <!-- Dropdown Structure -->
                <ul id='dropdown-pos' class='dropdown-content'>
                  <li><a href="#!">one</a></li>
                  <li><a href="#!">two</a></li>
                  <li class="divider" tabindex="-1"></li>
                  <li><a href="#!">three</a></li>
                  <li><a href="#!"><i class="material-icons">view_module</i>four</a></li>
                  <li><a href="#!"><i class="material-icons">cloud</i>five</a></li>
                </ul>

                <!-- Dropdown Trigger -->
                <a class='dropdown-trigger btn' href='#' data-target='dropdown-team'>All Teams</a>
                <!-- Dropdown Structure -->
                <ul id='dropdown-team' class='dropdown-content'>
                  <li><a href="#!">one</a></li>
                  <li><a href="#!">two</a></li>
                  <li class="divider" tabindex="-1"></li>
                  <li><a href="#!">three</a></li>
                  <li><a href="#!"><i class="material-icons">view_module</i>four</a></li>
                  <li><a href="#!"><i class="material-icons">cloud</i>five</a></li>
                </ul>

              </div>
            </div>

            <div id="playerTimeline"></div>
            <div id="team-war-timeline-year"></div>
          </div>
        </div>
      </div>

      <div class="main row">
        <!-- Team View -->
        <div class="cardView">
          <div class="card bigCardHeight bigCardWidth">
            <div id="cardHeader">
              <div class="card-name">Team View</div>
              <div class="card-dropdown">

                <!-- Dropdown Trigger -->
                <a class='dropdown-trigger btn' href='#' data-target='dropdown-teams'>BOSTON RED SOX</a>
                <!-- Dropdown Structure -->
                <ul id='dropdown-teams' class='dropdown-content'>
                  <li><a href="#!">one</a></li>
                  <li><a href="#!">two</a></li>
                  <li class="divider" tabindex="-1"></li>
                  <li><a href="#!">three</a></li>
                  <li><a href="#!"><i class="material-icons">view_module</i>four</a></li>
                  <li><a href="#!"><i class="material-icons">cloud</i>five</a></li>
                </ul>
              </div>

            </div>

            <div id="team-salary-timeline"></div>
            <div id="team-war-timeline"></div>
            <div id="team-salary-timeline-year"></div>
            <!-- <div id="team-war-timeline-year"></div> -->
          </div>
        </div>
      </div>

      <div class="main row">
        <div class="player-ab-conatiner">
          <!-- Player A -->
          <div class="cardView left-card">
            <div class="card halfCardWidth smallCardHeight">
              <!-- <div id="info" ng-if="player_hovered.team || teamPerformance.hovered" class="fixed-top"> -->
                <div id="info">
                <div class="row">
                  <div class="no-player-selected" ng-if="!player_hovered.mlbam && !teamPerformance.hovered">
                    <div class="no-player-selected-text">
                    <div class="no-player-selected-name">Player A</div>
                    <div class="no-player-selected-desc">Select Player Above</div>

                  </div>
                  </div>

                  <div class="headshot_div headshot_div_hover">
                    <img id="headshot_hover" ng-if="player_hovered.mlbam" ng-src="http://mlb.mlb.com/mlb/images/players/head_shot/{{player_hovered.mlbam}}.jpg" onerror="this.src='static/noimage.png'">
                  </div>

                  <div class="player-bio">
                    <div ng-if="player_hovered.mlbam">
                      <div class="player-name">{{player_hovered.playerName + description(player_hovered)}}</div>
                      <div>Team: {{player_hovered.team}}</div>
                      <div>Salary: ${{formatSalary(player_hovered.salary)}}</div>
                      <div>WAR: {{player_hovered.WAR}}</div>
                    </div>
                  </div>

                  <div class="player-stats">
                  </div>

                  <div class="info_text_container">
                    <div class="row justify_between">
                      <div id="team_text" ng-if="teamPerformance.hovered">
                        <div>{{teamPerformance.season}} {{getTeamName(player_hovered.team || selectedTeam)}}</div>
                        <div>{{teamPerformance.w}}W-{{teamPerformance.l}}L({{teamPerformance.wpct}})</div>
                        <div>{{teamPerformance.postSeasonText}}</div>
                      </div>
                      <div><img id="team_logo" ng-if="teamPerformance.hovered" ng-src="http://a.espncdn.com/combiner/i?img=/i/teamlogos/mlb/500/{{getESPNID(selectedTeam)}}.png&h=150&w=150"></div>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>

          <!-- Player B -->
          <div class="cardView right-card">
            <div class="card halfCardWidth smallCardHeight">
              <div class="no-player-selected">
                <div class="no-player-selected-text">
                <div class="no-player-selected-name">Player B</div>
                <div class="no-player-selected-desc">Select Player Above</div>

              </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

  </div>
</div>


<script> window.onload = function() {

  d3app.run();
  // d3appHead.run() called in d3app.run()
}

</script>

</body>
</html>
